<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Flext Filo Car — Tek Dosya</title>
  <style>
    :root{--bg:#ffffff;--accent:#c8102e;--muted:#666;--accent-dark:#9b081f}
    *{box-sizing:border-box}
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:var(--bg);color:#111}
    .container{max-width:1100px;margin:0 auto;padding:18px}
    header{position:sticky;top:0;background:#fff;border-bottom:2px solid #f2f2f2;z-index:120}
    .nav{display:flex;align-items:center;gap:12px;padding:12px 18px}
    .logo{font-weight:800;color:var(--accent);font-size:20px}
    .nav a{color:#fff;background:var(--accent);padding:8px 12px;border-radius:8px;text-decoration:none;font-weight:700}
    .nav .link{background:transparent;color:var(--accent);padding:8px 10px;border-radius:6px;text-decoration:none;font-weight:700}
    .hero{margin-top:14px;border-radius:10px;overflow:hidden;background:linear-gradient(90deg, rgba(200,16,46,0.06), rgba(0,0,0,0.02));padding:18px;display:flex;gap:18px;align-items:center}
    .hero .left{flex:1}
    .hero h1{margin:0;color:var(--accent)}
    .hero p{color:var(--muted);margin:6px 0 0}

    .grid{display:grid;grid-template-columns:1fr 300px;gap:18px;margin-top:18px}
    @media(max-width:980px){.grid{grid-template-columns:1fr}.nav{flex-wrap:wrap}}

    /* cards */
    .cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:14px}
    .card{background:#fff;border-radius:10px;overflow:hidden;border:1px solid #f0f0f0;position:relative;box-shadow:0 6px 18px rgba(0,0,0,.04)}
    .card img{width:100%;height:150px;object-fit:cover;display:block}
    .card .body{padding:10px}
    .car-name{font-weight:800;color:#111}
    .muted{color:var(--muted);font-size:13px;margin-top:6px}
    .price{font-weight:900;color:var(--accent-dark);margin-top:8px}
    .actions{display:flex;gap:8px;margin-top:10px}
    .btn{padding:8px 10px;border-radius:8px;text-decoration:none;border:none;cursor:pointer}
    .btn.primary{background:var(--accent);color:#fff}
    .btn.ghost{background:transparent;border:1px solid #eee;color:var(--accent)}

    /* tag on right */
    .sale-tag{position:absolute;top:10px;right:10px;background:#ff7a2d;color:#fff;padding:6px 10px;border-radius:999px;font-weight:800;font-size:12px}
    .badge-km{position:absolute;left:10px;top:10px;background:#111;color:#fff;padding:6px 8px;border-radius:8px;font-weight:700;font-size:12px}

    /* aside */
    aside{background:#fff;padding:12px;border-radius:10px;border:1px solid #f0f0f0}
    aside h3{margin:0 0 8px 0;color:var(--accent)}
    label{display:block;font-size:13px;margin:8px 0 6px}
    input[type=date],select{width:100%;padding:8px;border-radius:8px;border:1px solid #e6e6e6}

    footer{margin-top:26px;padding:18px;background:#fff;border-top:1px solid #f0f0f0;border-radius:8px}
    .footer-links a{margin-right:10px;color:var(--accent);text-decoration:none}

    /* modal */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;padding:20px}
    .modal .dialog{background:#fff;border-radius:10px;max-width:900px;width:100%;max-height:92vh;overflow:auto;padding:16px}
    .gallery{display:flex;gap:8px;align-items:center}
    .gallery img{width:100%;height:320px;object-fit:cover;border-radius:8px}

    /* small helpers */
    .row{display:flex;gap:8px;align-items:center}
    .small{font-size:13px;color:var(--muted)}
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="logo">Flext Filo Car</div>
      <a class="link" href="#anasayfa">Ana Sayfa</a>
      <a class="link" href="#araclar">Araçlar</a>
      <a class="link" href="#hakkimizda">Hakkımızda</a>
      <a class="link" href="#hizmetler">Hizmetlerimiz</a>
      <a class="link" href="#populer">Popüler Yerler</a>
      <a class="link" href="#blog">Blog</a>
      <a class="link" href="#iletisim">İletişim</a>
      <div style="margin-left:auto;display:flex;gap:8px;align-items:center">
        <a class="btn ghost" href="tel:+905545811667">Hemen Ara</a>
        <a class="btn primary" href="https://wa.me/905545811667" target="_blank">WhatsApp</a>
      </div>
    </div>
  </header>

  <main class="container">
    <section id="anasayfa" class="hero">
      <div class="left">
        <h1>Güvenli — Ekonomik — Hızlı Araç Kiralama</h1>
        <p>Flext Filo Car ile Türkiye’nin dört bir yanında temiz, bakımlı ve sigortalı araçlarla seyahat edin.</p>
      </div>
      <div class="right">
        <div class="small">Hafta sonu %30 indirim — Hafta içi popüler araçlara %10</div>
      </div>
    </section>

    <div class="grid">
      <section>
        <h2 id="araclar">Araçlar (Fiyat: Düşük → Yüksek)</h2>
        <div style="margin:8px 0" class="row">
          <label style="margin:0">Ara Adı / Filtre:</label>
          <input id="search" type="text" placeholder="Araç adı girin (örn: audi)" style="padding:8px;border-radius:8px;border:1px solid #eee;width:220px">
        </div>
        <div class="cards" id="cards"></div>
      </section>

      <aside>
        <h3>Hızlı Rezervasyon</h3>
        <label>Alış Tarihi</label>
        <input type="date" id="start" />
        <label>Teslim Tarihi</label>
        <input type="date" id="end" />
        <label>Alış İli</label>
        <select id="pickup"></select>
        <label>Teslim İli</label>
        <select id="dropoff"></select>
        <div style="margin-top:12px">
          <strong>Seçili Araç:</strong>
          <div id="selected" class="small">Henüz araç seçilmedi</div>
        </div>
        <div style="margin-top:10px;color:var(--muted);font-size:13px">WhatsApp ile rezervasyon yaparken tarih seçin; fiyat otomatik hesaplanır.</div>
      </aside>
    </div>

    <section id="hakkimizda" style="margin-top:18px">
      <h2>Hakkımızda</h2>
      <p>Flext Filo Car, kurumsal ve bireysel müşterilere güvenli, bakımlı ve sigortalı araçlar sunar. Tüm araçlar periyodik bakımlı, full kasko ve ziyade müşteriye özel çözümlerle teslim edilir.</p>
    </section>

    <section id="hizmetler" style="margin-top:12px">
      <h2>Hizmetlerimiz</h2>
      <div class="row" style="flex-wrap:wrap;margin-top:8px">
        <div style="flex:1;min-width:180px;background:#fff;border-radius:8px;padding:12px;border:1px solid #f0f0f0">Bakımlı Araçlar</div>
        <div style="flex:1;min-width:180px;background:#fff;border-radius:8px;padding:12px;border:1px solid #f0f0f0">Full Kasko</div>
        <div style="flex:1;min-width:180px;background:#fff;border-radius:8px;padding:12px;border:1px solid #f0f0f0">Kapsamlı Sigorta</div>
        <div style="flex:1;min-width:180px;background:#fff;border-radius:8px;padding:12px;border:1px solid #f0f0f0">7/24 Destek</div>
      </div>
    </section>

    <section id="populer" style="margin-top:18px">
      <h2>Popüler Araçlar</h2>
      <div id="popular" class="cards"></div>
    </section>

    <section id="blog" style="margin-top:18px">
      <h2>Blog</h2>
      <div style="background:#fff;padding:12px;border-radius:8px;border:1px solid #f0f0f0">Araç ipuçları ve kampanya duyuruları burada görünecek.</div>
    </section>

    <section id="iletisim" style="margin-top:18px">
      <h2>İletişim</h2>
      <div style="display:flex;gap:12px;align-items:center;flex-wrap:wrap">
        <div style="min-width:220px;background:#fff;padding:12px;border-radius:8px;border:1px solid #f0f0f0">Tel: +905545811667</div>
        <div style="min-width:220px;background:#fff;padding:12px;border-radius:8px;border:1px solid #f0f0f0">E-posta: info@onexcarfilo.com</div>
        <div style="min-width:220px;background:#fff;padding:12px;border-radius:8px;border:1px solid #f0f0f0">Adres: Türkiye (örnek)</div>
      </div>
    </section>

    <footer>
      <div>© Flext Filo Car</div>
      <div class="footer-links">
        <a href="#kvkk">KVKK</a>
        <a href="#gizlilik">Gizlilik</a>
        <a href="#sss">SSS</a>
      </div>
    </footer>
  </main>

  <div class="modal" id="modal">
    <div class="dialog" role="dialog">
      <button onclick="closeModal()" style="float:right;padding:6px 10px">Kapat</button>
      <div id="modal-body"></div>
    </div>
  </div>

  <div style="position:fixed;right:18px;bottom:18px">
    <a class="btn primary" href="https://wa.me/905545811667" target="_blank">WhatsApp ile İletişim</a>
  </div>

  <script>
    // --- Araç verisi (kullanıcının verdiği tam liste) ---
    const carsData = [
      ['audi-a4',1500],['audi-a6',2200],['bmw-320i',1800],['bmw-520i',2200],['bmw-x1',1500],['citroen-berlingo',1750],['citroen-c3',1200],['citroen-spacetourer',1800],['dacia-duster',1500],['fiat-doblo',1500],['fiat-egea',950],['fiat-scudo',1000],['ford-fiesta',950],['ford-tourneo-courier',1400],['ford-tourneo-custom-1',1750],['ford-tourneo-custom-2',2200],['hyundai-i20',950],['hyundai-staria',1000],['htundai-tucson',2500],['jaguar-xf',3000],['kia-sportage',2500],['kia-rio',1500],['mercedes-e200',2200],['mercedes-c200',2200],['mercedes-gla',3000],['mercedes-sprinter',4500],['mercedes-vclass',3500],['mercedes-vito',5000],['nissan-qashqai',2500],['opel-corsa',1600],['peugeot-3008',2200],['peugeot-rifter',1800],['peugeot-traveller',2500],['renault-captur',2200],['renault-clio',900],['renault-kangoo',1500],['renault-master',4500],['renault-trafic',2500],['seat-ibiza',950],['skoda-superb',2000],['toyota-alphard',1500],['toyota-proace',1500],['toyota-rav4',2500],['toyota-yaris',950],['volkswagen-caddy',1500],['volkswagen-passat',2100],['volvo-s60',1700],['volkswagen-golf',1500],['seat-leon',1500],['ford-focus',1200],['renault-megane',1100]
    ];

    // provinces
    const provinces = ["Adana","Adıyaman","Afyonkarahisar","Ağrı","Amasya","Ankara","Antalya","Artvin","Aydın","Balıkesir","Bilecik","Bingöl","Bitlis","Bolu","Burdur","Bursa","Çanakkale","Çankırı","Çorum","Denizli","Diyarbakır","Edirne","Elazığ","Erzincan","Erzurum","Eskişehir","Gaziantep","Giresun","Gümüşhane","Hakkari","Hatay","Isparta","Mersin","İstanbul","İzmir","Kars","Kastamonu","Kayseri","Kırıkkale","Kırklareli","Kırşehir","Kilis","Kocaeli","Konya","Kütahya","Malatya","Manisa","Kahramanmaraş","Mardin","Muğla","Muş","Nevşehir","Niğde","Ordu","Rize","Sakarya","Samsun","Siirt","Sinop","Sivas","Tekirdağ","Tokat","Trabzon","Tunceli","Şanlıurfa","Uşak","Van","Yozgat","Zonguldak","Aksaray","Bayburt","Karaman","Iğdır"];

    // build car objects
    const cars = carsData.map(([id,price])=>({
      id, name: id.replace(/-/g,' ').replace(/\b\w/g,m=>m.toUpperCase()), price, img:`images/${id}.jpg`, fuel: Math.random()<0.5?'Benzin':'Dizel', gear: Math.random()<0.4?'Manuel':'Otomatik'
    }));

    // sort by price low->high
    cars.sort((a,b)=>a.price-b.price);

    // populate provinces selects
    const pickup = document.getElementById('pickup'); const dropoff = document.getElementById('dropoff');
    provinces.forEach(p=>{const o=document.createElement('option');o.value=p;o.textContent=p;pickup.appendChild(o);});
    provinces.forEach(p=>{const o=document.createElement('option');o.value=p;o.textContent=p;dropoff.appendChild(o);});

    // helpers
    function tl(n){return n.toLocaleString('tr-TR')+'₺';}
    const cardsRoot = document.getElementById('cards');
    const popularRoot = document.getElementById('popular');

    // render functions
    function renderCards(list){
      cardsRoot.innerHTML='';
      list.forEach((car,idx)=>{
        const card=document.createElement('div');card.className='card';
        // sale tag for top 3
        const sale = (idx<3)?'<div class="sale-tag">%30’a varan indirim</div>':'';
        const km = '<div class="badge-km">Sınırsız KM</div>';
        card.innerHTML = `${sale}${km}<img src="${car.img}" alt="${car.name}" onerror="this.onerror=null;this.src='images/noimage.jpg'"><div class='body'><div class='car-name'>${car.name}</div><div class='muted'>${car.fuel} • ${car.gear}</div><div class='price'>${tl(car.price)}/gün</div><div class='actions'><button class='btn ghost' onclick="openDetails('${car.id}')">Araç Detayları</button><a class='btn primary' href='tel:+905545811667'>Hemen Ara</a></div></div>`;
        cardsRoot.appendChild(card);
      });
    }

    function renderPopular(){
      popularRoot.innerHTML='';
      // choose 6 random or top 6 cheapest? use top 6 cheapest as 'popular'
      const pop = cars.slice(0,6);
      pop.forEach((car,idx)=>{
        const c=document.createElement('div');c.className='card';
        c.innerHTML = `<img src="${car.img}" alt="${car.name}" onerror="this.onerror=null;this.src='images/noimage.jpg'"><div class='body'><div class='car-name'>${car.name}</div><div class='muted'>${car.fuel} • ${car.gear}</div><div class='price'>${tl(car.price)}/gün</div><div class='actions'><button class='btn ghost' onclick="openDetails('${car.id}')">Detay</button><a class='btn primary' href='https://wa.me/905545811667?text='+encodeURIComponent('Merhaba '+encodeURIComponent(car.name)) target='_blank'>WhatsApp</a></div></div>`;
        popularRoot.appendChild(c);
      });
    }

    // initial render
    renderCards(cars);
    renderPopular();

    // search
    document.getElementById('search').addEventListener('input',function(){
      const q=this.value.trim().toLowerCase(); if(!q){renderCards(cars);return;} const filtered=cars.filter(c=>c.name.toLowerCase().includes(q)); renderCards(filtered);
    });

    // modal detail
    function closeModal(){document.getElementById('modal').style.display='none';}
    window.closeModal = closeModal;

    function openDetails(id){
      const car = cars.find(c=>c.id===id); if(!car) return alert('Araç bulunamadı');
      document.getElementById('selected').textContent = car.name + ' — ' + tl(car.price) + '/gün';
      const mb = document.getElementById('modal-body');
      mb.innerHTML = `
        <h2>${car.name}</h2>
        <div style="display:flex;gap:12px;flex-wrap:wrap">
          <div style="flex:1;min-width:280px"><img src="${car.img}" alt="${car.name}" style="width:100%;height:320px;object-fit:cover;border-radius:8px" onerror="this.onerror=null;this.src='images/noimage.jpg'"></div>
          <div style="flex:1;min-width:220px">
            <p><strong>Günlük Ücret:</strong> ${tl(car.price)}</p>
            <p><strong>Yakıt:</strong> ${car.fuel}</p>
            <p><strong>Vites:</strong> ${car.gear}</p>
            <p><strong>Kasko / Sigorta:</strong> Full Kasko + Trafik Sigortası (Detaylar için poliçe dokümanı sağlanacaktır.)</p>
            <p class="small">Poliçe özeti: Kasko kapsamı; hasar, hırsızlık ve üçüncü şahıs zararlarına karşı koruma sağlar. Detaylı şartlar sözleşmede yer alır.</p>
            <div style="margin-top:12px"><label>Alış Tarihi</label><input type="date" id="dstart"><label>Teslim Tarihi</label><input type="date" id="dend"></div>
            <div style="margin-top:12px" class="row"><button class='btn primary' id='waBtn'>WhatsApp ile Kirala</button><button class='btn ghost' onclick='closeModal()'>Kapat</button></div>
            <div id='calc' class='small' style='margin-top:8px'></div>
          </div>
        </div>
      `;
      document.getElementById('modal').style.display='flex';

      // calc & whatsapp
      const startEl = document.getElementById('dstart'); const endEl = document.getElementById('dend'); const calcEl = document.getElementById('calc'); const waBtn = document.getElementById('waBtn');
      function daysBetween(a,b){const A=new Date(a);const B=new Date(b);if(isNaN(A)||isNaN(B))return 0;return Math.round((B-A)/(24*3600*1000))+1}
      function updateCalc(){const s=startEl.value;const e=endEl.value;const days=daysBetween(s,e); if(days<=0){calcEl.textContent='Tarih seçin (gün sayısı 1 veya daha fazla olmalı)'; waBtn.disabled=true; return;} let base = car.price * days; let weekend=0; let weekday=0; for(let d=new Date(s); d<=new Date(e); d.setDate(d.getDate()+1)){const wd = d.getDay(); if(wd===0||wd===6) weekend++; else weekday++;}
        let discount=0; let notes=[]; if(weekend>0){discount += car.price*weekend*0.30; notes.push('Hafta sonu %30 indirimi ('+weekend+'g)');}
        // top6 weekday %10
        const isTop6 = cars.slice(0,6).some(x=>x.id===car.id);
        if(isTop6 && weekday>0){discount += car.price*weekday*0.10; notes.push('Hafta içi popüler %10 ('+weekday+'g)');}
        // random bugüne özel - for demo apply if id hash even
        if(hashCode(car.id)%8===0){discount+=1000;notes.push('Bugüne özel 1000₺ indirim');}
        if(days>=25){discount += base*0.30; notes.push('Aylık %30 indirimi');}
        const total = Math.max(0, Math.round(base-discount));
        calcEl.textContent = days + ' gün × ' + tl(car.price) + ' = ' + tl(base) + ' • İndirimler: ' + (tl(Math.round(discount)) || '0₺') + ' • Toplam: ' + tl(total) + (notes.length? (' • Notlar: ' + notes.join('; ')):''); waBtn.disabled=false; waBtn.dataset.msg = `Merhaba, ${car.name} ${s} - ${e} tarihleri arasında kampanya dahilinde ${total}₺ kiralamak istiyorum. Alış: ${pickup.value || '-'} Teslim: ${dropoff.value || '-'}`; }
      startEl.addEventListener('change',updateCalc); endEl.addEventListener('change',updateCalc);
      waBtn.addEventListener('click',()=>{const text = waBtn.dataset.msg || ('Merhaba, '+car.name); window.open('https://wa.me/905545811667?text='+encodeURIComponent(text),'_blank');});
    }
    window.openDetails = openDetails;

    function hashCode(s){let h=0;for(let i=0;i<s.length;i++){h=((h<<5)-h)+s.charCodeAt(i);h|=0;}return Math.abs(h);}

    // expose close
    window.closeModal = closeModal;

    // set default dates
    const today = new Date().toISOString().slice(0,10); const plus3 = new Date(Date.now()+3*24*3600*1000).toISOString().slice(0,10);
    document.getElementById('start').value = today; document.getElementById('end').value = plus3;

    // card click selects
    cardsRoot.addEventListener('click', function(e){ const c = e.target.closest('.card'); if(!c) return; const name = c.querySelector('.car-name')?.textContent; if(name) document.getElementById('selected').textContent = name; });

    // done
  </script>
</body>
</html>
